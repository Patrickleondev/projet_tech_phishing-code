<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>AntiPhish ‚Äî Protection Phishing</title>
</head>

<body>
  <header class="app-header" role="banner">
    <div class="brand">
      <div class="logo" aria-hidden="true">üõ°Ô∏è</div>
      <div class="titles">
        <h1 id="appTitle">AntiPhish</h1>
        <p id="appTagline" class="subtitle">V√©rifiez les liens et fichiers, apprenez √† √©viter le phishing</p>
      </div>
    </div>
    <div class="header-actions">
      <label for="langSelect" class="sr-only">Langue</label>
      <select id="langSelect" aria-label="Langue">
        <option value="fr" selected>Fran√ßais</option>
        <option value="ewe">E ãegbe</option>
      </select>
    </div>
  </header>

  <main class="container" role="main">
    <section class="card" aria-labelledby="scanUrlTitle">
      <h2 id="scanUrlTitle" data-i18n="scan_url_title">Scanner une URL</h2>
      <label for="urlInput" class="label" data-i18n="url_label">Entrez une URL (ex: https://example.com)</label>
      <input type="text" id="urlInput" inputmode="url" placeholder="https://example.com" aria-describedby="urlHelp">
      <p id="urlHelp" class="help" data-i18n="url_help">Collez le lien suspect pour v√©rifier sa s√©curit√©.</p>
      <button id="scanUrlBtn" onclick="scanURL()" data-i18n="scan_url_btn">Scanner l‚ÄôURL</button>
    </section>

    <section class="card" aria-labelledby="scanFileTitle">
      <h2 id="scanFileTitle" data-i18n="scan_file_title">Scanner un fichier</h2>
      <label for="fileInput" class="label" data-i18n="file_label">Choisissez un fichier (max 32 Mo)</label>
      <input type="file" id="fileInput" aria-describedby="fileHelp">
      <p id="fileHelp" class="help" data-i18n="file_help">T√©l√©versez un fichier pour d√©tection de menaces.</p>
      <button id="scanFileBtn" onclick="scanFile()" data-i18n="scan_file_btn">Scanner le fichier</button>
    </section>

    <section class="card info" aria-labelledby="learnTitle">
      <h2 id="learnTitle" data-i18n="learn_title">Comprendre le phishing</h2>
      <ul class="learn-list">
        <li data-i18n="learn_tip1">V√©rifiez l‚Äôadresse de l‚Äôexp√©diteur et l‚ÄôURL avant de cliquer.</li>
        <li data-i18n="learn_tip2">M√©fiez-vous des urgences et promesses trop belles.</li>
        <li data-i18n="learn_tip3">Ne partagez jamais vos codes ou OTP par message/appel.</li>
        <li data-i18n="learn_tip4">Utilisez ce scanner pour v√©rifier les liens et fichiers suspects.</li>
      </ul>
    </section>

    <div id="result" role="region" aria-live="polite"></div>

    <div id="fullReportModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="fullReportTitle">
      <div class="modal-content">
        <button class="close" aria-label="Fermer" onclick="closeModal()">&times;</button>
        <h2 id="fullReportTitle" data-i18n="full_report_title">Rapport d√©taill√©</h2>
        <div id="fullReportContent"></div>
      </div>
    </div>
  </main>

  <!-- Chatbot floating widget -->
  <div id="chatbot" class="chatbot" aria-live="polite">
    <button id="chatbotToggle" class="chatbot-toggle" aria-expanded="false" aria-controls="chatbotPanel">üí¨</button>
    <div id="chatbotPanel" class="chatbot-panel" role="dialog" aria-modal="false" aria-labelledby="chatbotTitle">
      <div class="chatbot-header">
        <h3 id="chatbotTitle" data-i18n="chatbot_title">Assistant AntiPhish</h3>
        <button class="close" aria-label="Fermer" onclick="toggleChatbot(false)">&times;</button>
      </div>
      <div id="chatbotMessages" class="chatbot-messages" aria-live="polite"></div>
      <form id="chatbotForm" class="chatbot-input" onsubmit="return sendChatbotMessage(event)">
        <label for="chatbotText" class="sr-only" data-i18n="chatbot_input_label">Votre message</label>
        <input id="chatbotText" type="text" autocomplete="off" placeholder="Posez votre question‚Ä¶" />
        <button type="submit" data-i18n="chatbot_send">Envoyer</button>
      </form>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>